---
import Layout from '../layouts/Layout.astro';
import LinkIcon from '../components/LinkIcon.astro';
import CardList from '../components/CardList.astro';
import { getCollection, type CollectionEntry } from 'astro:content';

const projects: CollectionEntry<'projects'>[] = await getCollection('projects');
const sortedProjects: CollectionEntry<'projects'>[] = projects.sort((a, b) => a.data.year < b.data.year ? 1 : -1)
---

<Layout title="William Gruszka">
	<section class="homepage-content">
		<header>
			<div>
				<h1>William Gruszka</h1>
				<summary>
					<h3>Software Engineer</h3>
					<LinkIcon href={'https://github.com/wilgru'} iconName={"github-logo"} alt="Github icon" target="_blank"/>
					<LinkIcon href={'https://www.linkedin.com/in/william-gruszka-a03373227/'} iconName={"linkedin-logo"} alt="linkedIn icon" target="_blank"/>
					<LinkIcon href={'mailto:william.gruszka@icloud.com'} iconName={"envelope"} alt="email icon" target="_blank"/>
				</summary>
			</div>

			<p>
				Full-stack software engineer with experience in agile development, specialising in web development using React and Typescript, and cloud services like AWS.
			</p>
		</header>

		<CardList projects={sortedProjects} transition:persist/>
	</section>
</Layout>

<style>
	.homepage-content {
		height: 100%;
		display: flex; 
		flex-direction: column; 
		justify-content: space-between;
		gap: 2rem
	}
	.homepage-content header {
		display: flex; 
		flex-direction: column; 
		gap: 1rem; 
	}
	.homepage-content summary {
		display: flex; 
		flex-direction: row; 
		align-items: center;
		gap: 0.5rem; 
	}
</style>
